<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissors</title>
</head>
<body>
    <div class="container">
        <button class="rock" value="rock">Rock</button>
        <button class="paper" value="paper">Paper</button>
        <button class="scissors" value="scissors">Scissors</button>
    </div>

    <div class="display-container">
        <h1 class="outcome"></h1>
        <h2 class="display"></h2>
    </div>

    <script>
        //Variable that allow access to rock, paper, scissors buttons
        let rock = document.querySelector(".rock")
        let paper = document.querySelector(".paper")
        let scissors = document.querySelector(".scissors")
        let display = document.querySelector(".display")
        let outcome = document.querySelector(".outcome")
        //Create a functition that plays the game 
        function playGame () {
            //Create variables for the human and computer scores 
            let humanScore = 0
            let computerScore = 0
            //A function that gives us the winner of the game 
            function winnerOfGame (humanScore, computerScore) {
                if (humanScore === 5) {
                    let winner = document.createElement("h3")
                    winner.innerText = ("You Won! You beat the computer " + humanScore + " to " + computerScore)
                    display.append(winner)
                }
                else if (computerScore === 5) {
                    let winner = document.createElement("h3")
                    winner.innerText = ("You Lost. The computer beat you " + computerScore+ " to " + humanScore)
                    display.append(winner)
                }
            }

            //A function that restarts the game as soon as the winner reaches 5 points
            function resetGame() {
                if (humanScore === 5 || computerScore === 5) {
                    let newHumanScore = 0
                    let newComputerScore = 0
                    humanScore = newHumanScore
                    computerScore = newComputerScore
                }
            }

            //Event listeners that let the user choose their selection by clicking the button
            rock.addEventListener("click", () => {
                let computerSelection = getComputerChoice()
                let humanSelection = rock.value
                console.log(playRound(humanSelection, computerSelection))
                display.innerText = ("Your Score: " + humanScore + " || " + " Computer Score: " + computerScore)
                winnerOfGame(humanScore, computerScore)
                resetGame(humanScore, computerScore)
            })
            paper.addEventListener("click", () => {
                let computerSelection = getComputerChoice()
                let humanSelection = paper.value
                console.log(playRound(humanSelection, computerSelection))
                display.innerText = ("Your Score: " + humanScore + " || " + " Computer Score: " + computerScore)
                winnerOfGame(humanScore, computerScore)
                resetGame(humanScore, computerScore)

            })
            scissors.addEventListener("click", () => {
                let computerSelection = getComputerChoice()
                let humanSelection = scissors.value
                console.log(playRound(humanSelection, computerSelection))
                display.innerText = ("Your Score: " + humanScore + " || " + " Computer Score: " + computerScore)
                winnerOfGame(humanScore, computerScore)
                resetGame(humanScore, computerScore)

            })
            //Create a function that lets give the computer a random choice
            function getComputerChoice () {
                let choice = ["rock", "paper", "scissors"]
                return choice[(Math.floor(Math.random() * choice.length))]
            }
            //Create a function that plays a round of the game
            function playRound(humanSelection, computerSelection) {
                if (humanSelection == "rock" && computerSelection == "scissors" || humanSelection == "paper" && computerSelection == "rock" || humanSelection == "scissors" && computerSelection == "paper") {
                    outcome.innerText = ("You Win! " + humanSelection + " beats " + computerSelection)
                    humanScore ++
                }
                else if (computerSelection == "rock" && humanSelection == "scissors" || computerSelection == "paper" && humanSelection == "rock" || computerSelection == "scissors" && humanSelection == "paper") {
                    outcome.innerText = ("You Lose! " + computerSelection + " beats " + humanSelection)
                    computerScore ++
                }
                else if (humanSelection == computerSelection) {
                    outcome.innerText = ("It's a Draw.")
                }
            }
        }
        playGame()
    </script>
</body>
</html>